# 将 ‘Windows’ 键设置为主要修饰键
$mainMod = SUPER
$SUPER_SHIFT = SUPER SHIFT
$SUPER_ALT = SUPER ALT

# 快捷键示例，更多内容请参见 https://wiki.hyprland.org/Configuring/Binds/

################## 打开软件快捷键 ###############
bind = $mainMod, RETURN, exec, $terminal # 打开默认的终端
bind = $SUPER_SHIFT, RETURN, exec, hyprctl dispatch exec "[float; size 60% 60%; center]" $terminal # 打开默认的浮动终端
bind = $mainMod, B, exec, $DefaultBrowser   # 打开默认的
bind = $SUPER_SHIFT, B, exec, $browser  # 打开firefox浏览器
bind = $mainMod, M, exec, $Music    # 打开音乐软件
bind = $mainMod, D, exec, $menu   #打开用户设置的应用菜单
bind = $mainMod, E, exec, EDITOR=nvim kitty $CmdFileManager# 打开命令行文件管理器
bind = $mainMod, N, exec, neovide # 打开默认的终端
bind = $mainMod, L, exec, hyprlock # 锁屏
bind = ALT, SPACE, exec, ulauncher # 网络搜索窗口软件

# 重新加载Hyprland
bind = $SUPER_SHIFT, R, exec, \
    hyprctl reload && \
    if pidof waybar > /dev/null; then pkill waybar; fi && waybar & \
    if pidof wayvnc > /dev/null; then pkill wayvnc; fi && wayvnc 0.0.0.0 &

################ 关闭注销 ###############
bind = $mainMod, Q, killactive,    # 关闭当前活动窗口,比如Alt+F4
bind = $SUPER_SHIFT, Q, exec, for addr in $(hyprctl clients -j | jq -r --argjson ws "$(hyprctl monitors -j | jq '.[0].activeWorkspace.id')" '.[] | select(.workspace.id == $ws) | .address'); do hyprctl dispatch closewindow "address:$addr"; done # 关闭当前工作区全部活动窗口
bind = $SUPER_SHIFT, ESCAPE, exec, wlogout -b 4     # 退出 Hyprland 会话

##############全屏截图与框选截图##########
# bind = $SUPER_SHIFT, G,exec, \
#     file=~/screenshot/$(date +'%Y-%m-%d-%H%M%S').png && \
#     grim $file && \
#     wl-copy < $file && \
#     satty --filename $file --output-filename $file && \
#     wl-copy < $file && \
#     notify-send "全屏截图,已保存至~/screenshot"# 全屏截图
#
bind = $SUPER_SHIFT, G, exec, \
    file=~/screenshot/$(date +'%Y-%m-%d-%H%M%S').png && \
    grim -g "$(slurp)" $file && \
    wl-copy < $file && \
    satty --filename $file --output-filename $file && \
    wl-copy < $file && \
    notify-send "区域截图,已保存至~/screenshot并打开编辑器"# 区域截图

bind = $mainMod, G, exec, ~/.config/hypr/scripts/capture.sh

bind = $SUPER_SHIFT, W, exec, ~/.config/wallpaper/script/swww-rofi.sh
########### 窗口相关 ###############
bind = $mainMod, F, fullscreenstate, 2 0 # 全屏
bind = $SUPER_SHIFT, F, fullscreenstate, 1 0 #假全屏（最大化但保留状态栏） 
bind = $mainMod, P, togglefloating, #切换当前窗口的布局模式为浮动模式或平铺模式
bind = $SUPER_SHIFT, P, pin # 固定浮动窗口
bind = $SUPER_SHIFT, A,centerwindow
bind = $mainMod, V, pseudo, # 伪窗口模式（pseudo 模式），常用来布局微调，配合改变窗口大小使用
bind = $mainMod, J, togglesplit, # 切换当前窗口的分割方向（水平/垂直）

# 使用主修饰键（mainMod）加方向键来移动焦点
# 从浮窗 / 当前窗口回到上一个窗口（通常是平铺主窗口）
bind = $mainMod, ESCAPE, focuscurrentorlast
bind = $mainMod, TAB, cyclenext, tiled #向前循环
bind = $mainMod, left, movefocus, l
bind = $mainMod, right, movefocus, r
bind = $mainMod, up, movefocus, u
bind = $mainMod, down, movefocus, d
# 使用hjkl键切换焦点（Vim风格）
# bind = SUPER, h, movefocus, l
# bind = SUPER, l, movefocus, r
# bind = SUPER, k, movefocus, u
# bind = SUPER, j, movefocus, d

# 移动窗口交换位置
bind = $SUPER_SHIFT, left, swapwindow, l
bind = $SUPER_SHIFT, right, swapwindow, r
bind = $SUPER_SHIFT, up, swapwindow, u
bind = $SUPER_SHIFT, down, swapwindow, d
# 使用hjkl键切换窗口交换位置（Vim风格）
bind = $SUPER_SHIFT, h, swapwindow, l
bind = $SUPER_SHIFT, l, swapwindow, r
bind = $SUPER_SHIFT, k, swapwindow, u
bind = $SUPER_SHIFT, j, swapwindow, d

# 调整窗口大小
bind = $SUPER_ALT,RIGHT, resizeactive, 10 10 # 右上10px
bind = $SUPER_ALT,LEFT, resizeactive, -10 -10 # 左下10px

# 使用主修饰键（mainMod）加鼠标左键（LMB）或右键（RMB）拖动来移动或调整窗口大小
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow


################# 工作区相关 #################
# 主修饰键（mainMod）加数字键 0-9 来切换工作区
# 使用主修饰键（mainMod）加滚轮滚动来切换已有的工作区
bind = $mainMod, mouse_down, workspace, e+1
bind = $mainMod, mouse_up, workspace, e-1
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, 0, workspace, 10
# 用主修饰键 + [ ]切换工作区
bind = $mainMod, bracketleft, workspace, e-1
bind = $mainMod, bracketright, workspace, e+1
# 移动到最近的空工作区
bind = $mainMod, Z, workspace, empty
# 移动当前窗口到空工作区
bind = $SUPER_SHIFT, Z, movetoworkspace, empty

# 使用主修饰键（mainMod）加数字键 [0-9] 来移动到工作区
bind = $SUPER_SHIFT, 1, movetoworkspace, 1
bind = $SUPER_SHIFT, 2, movetoworkspace, 2
bind = $SUPER_SHIFT, 3, movetoworkspace, 3
bind = $SUPER_SHIFT, 4, movetoworkspace, 4
bind = $SUPER_SHIFT, 5, movetoworkspace, 5
bind = $SUPER_SHIFT, 6, movetoworkspace, 6
bind = $SUPER_SHIFT, 7, movetoworkspace, 7
bind = $SUPER_SHIFT, 8, movetoworkspace, 8
bind = $SUPER_SHIFT, 9, movetoworkspace, 9
bind = $SUPER_SHIFT, 0, movetoworkspace, 10
# 用主修饰键 + Shift + [ ]将当前窗口移动到上一个或下一个工作区
bind = $SUPER_SHIFT, bracketleft, movetoworkspace,  r-1
bind = $SUPER_SHIFT, bracketright, movetoworkspace,  r+1


############## /备用区）##############
##############################################
########### 功能介绍 ##########
# 应用丢进来，平时隐藏，不占用主屏幕空间
# 一个随时可以召唤/收回的“隐藏桌面”，方便管理零散窗口，保持主工作区干净。
##############################################
bind = $mainMod, S, togglespecialworkspace, 
bind = $SUPER_SHIFT, S, movetoworkspace, special:
bind = $SUPER_SHIFT, X, movetoworkspace, +0


# 笔记本电脑的多媒体键，用于控制音量和屏幕亮度
bindel = ,XF86AudioRaiseVolume, exec, wpctl set-volume -l 1 @DEFAULT_AUDIO_SINK@ 5%+
bindel = ,XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bindel = ,XF86AudioMute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bindel = ,XF86AudioMicMute, exec, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle
bindel = ,XF86MonBrightnessUp, exec, brightnessctl -e4 -n2 set 5%+
bindel = ,XF86MonBrightnessDown, exec, brightnessctl -e4 -n2 set 5%-

# 需要安装 playerctl 工具
# 多媒体键（比如播放/暂停、上一曲、下一曲）来控制媒体播放
bindl = , XF86AudioNext, exec, playerctl next
bindl = , XF86AudioPause, exec, playerctl play-pause
bindl = , XF86AudioPlay, exec, playerctl play-pause
bindl = , XF86AudioPrev, exec, playerctl previous
